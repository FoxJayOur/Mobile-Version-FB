<ion-header>
</ion-header>

<ion-content>
  <nav class="navitab">
    <div class ="maxwidth">
      <div class ="logo"><img src="../../assets/imgs/BatStateU-NEU-Logo.png">
      <img src="../../../assets/imgs/frmn logo 2.png" alt="">
      </div>
      <div class="logo2">
        <a href="#" [routerLink]="['/forms']">FORMANA</a>
        <a href="#" [routerLink]="['/login']">LOGOUT</a>
      </div>
    </div>
  </nav>
  <div class="welcomeText">
    <div class="text">
      BatStateU - TNEU
    </div>
  </div>
  <button id="open-modalOrig" type="button" style="background-color: rgb(202, 36, 36)
    ; height: 60px; width: 65%; border-radius: 20px; margin: 20px; margin-left: 17%;">SELECT FORM</button>
  <div class="formCreate">
      <ion-modal trigger="open-modalOrig" (willDismiss)="onWillDismiss($event)">
          <ng-template>
            <ion-content class="ion-padding">
            <div class="titleLabel" style="background: rgb(187, 187, 187); padding: 18px; margin-bottom: 80px; border-radius: 10px; text-align: center;">
              <ion-label style="font-size: 25px; font-family:'Poppins', sans-serif; color: black;">CHOOSE BUILDING DESIGNATION</ion-label>
              <hr>
            </div>
            <button id="open-modal" type="button" style="background-color: rgb(202, 36, 36)
              ; height: 60px; width: 93%; border-radius: 20px; margin: 20px; margin-left: 4%;">CICS Building</button>
              <ion-modal trigger="open-modal"(willDismiss)="onWillDismiss($event)">
                <ng-template>
                  <ion-content class="ion-padding">
                    <div class="titleLabel" style="background: rgb(214, 213, 213); padding: 18px; margin-bottom: 10px; border-radius: 10px; text-align: center;">
                      <ion-label style="font-size: 25px; font-family:'Poppins', sans-serif; color: black;">SELECT FORM</ion-label>
                    </div>
                    <label for="wtitle" style="padding-top: 10px;">Title</label><br>
                    <ion-input [(ngModel)]="wtitle" type="text" placeholder="Enter your wanted form title" id="wtitle"
                    style="background-color: rgb(184, 184, 184); border-radius: 7px;"></ion-input>
                    <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                      <button type="button" (click)="findTitle()" style="background-color: rgb(202, 36, 36);
                      border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                      Find<ion-ripple-effect></ion-ripple-effect></button>
                    </div>
                    <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                      <button type="button" (click)="myGeeks()" style="background-color: rgb(202, 36, 36);
                      border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                      Answer<ion-ripple-effect></ion-ripple-effect></button>
                    </div>
                  </ion-content>
                </ng-template>
              </ion-modal>
            <button id="open-modal2" type="button" style="background-color: rgb(202, 36, 36)
              ; height: 60px; width: 93%; border-radius: 20px; margin: 20px; margin-left: 4%;">CEAFA Building</button>
              <ion-modal trigger="open-modal2"(willDismiss)="onWillDismiss($event)">
                <ng-template>
                  <ion-content class="ion-padding">
                    <div class="titleLabel" style="background: rgb(214, 213, 213); padding: 18px; margin-bottom: 10px; border-radius: 10px; text-align: center;">
                      <ion-label style="font-size: 25px; font-family:'Poppins', sans-serif; color: black;">SELECT FORM</ion-label>
                    </div>
                    <label for="wtitle" style="padding-top: 10px;">Title</label><br>
                    <ion-input [(ngModel)]="wtitle" type="text" placeholder="Enter your wanted form title" id="wtitle"
                    style="background-color: rgb(184, 184, 184); border-radius: 7px;"></ion-input>
                    <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                      <button type="button" (click)="findTitle2()" style="background-color: rgb(202, 36, 36);
                      border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                      Find<ion-ripple-effect></ion-ripple-effect></button>
                    </div>
                    <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                      <button type="button" (click)="myGeeks2()" style="background-color: rgb(202, 36, 36);
                      border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                      Answer<ion-ripple-effect></ion-ripple-effect></button>
                    </div>
                  </ion-content>
                </ng-template>
              </ion-modal>
            <button id="open-modal3" type="button" style="background-color: rgb(202, 36, 36)
              ; height: 60px; width: 93%; border-radius: 20px; margin: 20px; margin-left: 4%;">Faculty</button>
              <ion-modal trigger="open-modal3" (willDismiss)="onWillDismiss($event)">
                <ng-template>
                  <ion-content class="ion-padding">
                    <div class="titleLabel" style="background: rgb(214, 213, 213); padding: 18px; margin-bottom: 10px; border-radius: 10px; text-align: center;">
                      <ion-label style="font-size: 25px; font-family:'Poppins', sans-serif; color: black;">SELECT FORM</ion-label>
                    </div>
                    <label for="wtitle" style="padding-top: 10px;">Title</label><br>
                    <ion-input [(ngModel)]="wtitle" type="text" placeholder="Enter your wanted form title" id="wtitle"
                    style="background-color: rgb(184, 184, 184); border-radius: 7px;"></ion-input>
                    <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                      <button type="button" (click)="findTitle3()" style="background-color: rgb(202, 36, 36);
                      border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                      Find<ion-ripple-effect></ion-ripple-effect></button>
                    </div>
                    <div class="ion-activatable ripple-parent rectangle" style="border: none;">
                      <button type="button" (click)="myGeeks3()" style="background-color: rgb(202, 36, 36);
                      border-radius: 35px; width: 100%; height: 47px; margin-top: 25px;">
                      Answer<ion-ripple-effect></ion-ripple-effect></button>
                    </div>
                  </ion-content>
                </ng-template>
              </ion-modal>
            </ion-content>
          </ng-template>
        </ion-modal>
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()" #f="ngForm">
      <div class="form-group">
        <label for="title">Form Title <span> by </span></label><br>
        <input type="text"
              id="title"
              class="form-control"
              placeholder="Title"
              name="title"
              formControlName="title"
              style="width: 80%;"
              required
              readonly>
      </div>
      <div class="form-group">
        <label for="description">Form Description</label>
        <label for="" id="description" style="width: 85%; justify-content: center;"></label>
      </div>
      <div formArrayName="questions">
        <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let question of myForm.get('questions')['controls']; let i=index">
          <fieldset>
            <legend><h4 style="color: black;">
            </h4></legend>
            <div [formGroupName]="i">
              <div class="form-inline">
                <div class="form-group">
                  <label id="questionLbl" class="col-form-label" for="question">Question</label>
                  <ion-textarea type="text" formControlName="question"
                              class="form-control"
                              style="margin-right:5px; width: 80%; background: rgba(255, 255, 255, 0.199);" 
                              type="email"
                              placeholder="Question"
                              id="question"
                              name="question"
                                readonly>
                              </ion-textarea>
                </div>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <div formArrayName="comments">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments').controls; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label id="commentLbl" style="margin-right:5px;" class="col-form-label" for="emailId" style="color: black;">Answer</label><br>
                        <input type="text" formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 80%;" 
                              type="email"
                              placeholder="Answers"
                              id="comment"
                              name="comment"
                                />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div formArrayName="questions2" id="questions2">
        <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let question of myForm.get('questions2')['controls']; let i=index">
          <fieldset>
            <legend><h4 style="color: black;">
            </h4></legend>
            <div [formGroupName]="i">
              <div class="form-inline">
                <div class="form-group">
                  <label id="questionLbl" class="col-form-label" for="question">Question</label>
                  <ion-textarea type="text" formControlName="question"
                              class="form-control"
                              style="margin-right:5px; width: 80%; background: rgba(255, 255, 255, 0.199);" 
                              type="email"
                              placeholder="Question"
                              id="question2"
                              name="question"
                                readonly>
                              </ion-textarea>
                </div>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <div formArrayName="comments">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments').controls; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label id="commentLbl" style="margin-right:5px;" class="col-form-label" for="emailId">Option {{j + 1}}</label><br>
                        <input type="text" formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 80%;" 
                              type="email"
                              placeholder="Answers"
                              id="comment"
                              name="comment"
                                readonly/>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div formArrayName="comments2">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments2').controls; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label style="margin-right:5px;" class="col-form-label" for="emailId" >Answer {{j + 1}}</label><br>
                        <select formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 80%;" 
                              type="text"
                              placeholder="Answers"
                              id="comment"
                              name="comment"
                              size="1"
                                >
                                <option value="Option 1">Option 1</option>
                                <option value="Option 2">Option 2</option>
                                <option value="Option 3">Option 3</option>
                                <option value="Option 4">Option 4</option>
                        </select>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div formArrayName="questions3">
        <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let question of myForm.get('questions3')['controls']; let i=index">
          <fieldset>
            <legend><h4 style="color: black;">
    </h4></legend>
            <div [formGroupName]="i">
              <div class="form-inline">
                <div class="form-group">
                  <label class="col-form-label" for="question">Question</label>
                  <ion-textarea type="text"
                        class="form-control"
                        id="question3"
                        placeholder="Question"
                        name="type"
                        formControlName="question" 
                        style="margin-right:5px; width: 80%; background: rgba(255, 255, 255, 0.199);" 
                        required
                        readonly>
                      </ion-textarea>
                </div>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <div formArrayName="comments">
                    <div style="margin-top:5px; margin-bottom:5px;" *ngFor="let lines of question.get('comments').controls; let j=index">
                      <div [formGroupName]="j">
                        <div class="form-group">
                        <label style="margin-right:5px;" class="col-form-label" for="emailId" >Answer</label><br>
                        <ion-textarea formControlName="comment"
                              class="form-control"
                              style="margin-right:5px; width: 80%;" 
                              type="textarea"
                              placeholder="Answers"
                              id="textarea"
                              name="comment"
                              size="1"
                                >
                              </ion-textarea>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div class="form-group">
        <label for="title">Approved by: </label> <br>
        <label for="" id="approvedBy" style="color:#e9e9e9; width: 70%;"></label>
      </div>

      
      <!--<button type="submit" class="btn btn-success" (click)="continue()">Update</button>-->
      <button type="submit" (click)="pass()" style="background-color: rgb(202, 36, 36)
      ; height: 37px; width: 32%; border-radius: 18px; margin: 5px; font-size: 15px;" onclick="window.location.reload()">Submit</button>
      <button type="submit" style="background-color: rgb(202, 36, 36)
      ; height: 37px; width: 32%; border-radius: 18px; margin: 5px; font-size: 15px;" onclick="window.location.reload()">Refresh</button>
    </form>
  </div>
</ion-content>
